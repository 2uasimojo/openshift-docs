[[removing-service-mesh]]
= Removing {ProductName}

Follow this process to remove the {ProductShortName} from an existing {product-title} instance. Log in as a cluster admin and run these commands from any host with access to the cluster.

[[remove-control-plane]]
== Remove the control plane

[NOTE]
====
Removing the `servicemeshcontrolplane` triggers the {ProductShortName} Operator to uninstall the resources it created.
====

[NOTE]
====
You can used the shortened `smcp` command in place of `servicemeshcontrolplanes`.
====

. Retrieve the name of the installed custom resource with this command:
+
----
oc get servicemeshcontrolplanes -n istio-system
----

. Replace `<name_of_custom_resource>` with the output from the previous command, and run this command to remove the custom resource:
+
----
$ oc delete servicemeshcontrolplanes -n istio-system <name_of_custom_resource>
----


[[remove-operators]]
== Remove the Operators
You must remove the Operators to successfully remove {ProductName}. After you remove the {ProductName} Operator, you must remove the Jaeger Operator and the Kiali Operator.

[[remove-ossm-operator]]
=== Remove the {ProductName} Operator

* Run this command to remove the {ProductName} Operator:
+
----
$ oc delete -n istio-operator -f https://raw.githubusercontent.com/Maistra/istio-operator/maistra-0.12/deploy/servicemesh-operator.yaml
----

[[remove-jaeger-operator]]
=== Remove the Jaeger Operator

* Run the following commands to remove the Jaeger Operator:
+
----
$ oc delete -n observability -f https://raw.githubusercontent.com/jaegertracing/jaeger-operator/v1.13.1/deploy/operator.yaml
$ oc delete -n observability -f https://raw.githubusercontent.com/jaegertracing/jaeger-operator/v1.13.1/deploy/role_binding.yaml
$ oc delete -n observability -f https://raw.githubusercontent.com/jaegertracing/jaeger-operator/v1.13.1/deploy/role.yaml
$ oc delete -n observability -f https://raw.githubusercontent.com/jaegertracing/jaeger-operator/v1.13.1/deploy/service_account.yaml
$ oc delete -n observability -f https://raw.githubusercontent.com/jaegertracing/jaeger-operator/v1.13.1/deploy/crds/jaegertracing_v1_jaeger_crd.yaml
----

[[remove-kiali-operator]]
=== Remove the Kiali Operator

* Run the following command to remove the Kiali Operator:
+
----
$ bash <(curl -L https://git.io/getLatestKialiOperator) --uninstall-mode true --operator-watch-namespace '**'
----


[[remove-projects]]
== Remove the projects

. Run this command to remove the `istio-system` project:
+
----
$ oc delete project istio-system
----

. Run this command to remove the `istio-operator` project:
+
----
$ oc delete project istio-operator
----

. Run this command to remove the `kiali-operator` project:
+
----
$ oc delete project kiali-operator
----

. Run this command to remove the `observability` project:
+
----
$ oc delete project observability
----

